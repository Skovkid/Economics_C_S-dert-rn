School_enrol<- WDI(indicator ="SE.PRM.ENRR" )
School_GPI <- WDI(indicator = "SE.ENR.PRSC.FM.ZS")
Res_Dev<- WDI(indicator = "GB.XPD.RSDV.GD.ZS")
Pop_growth <- WDI(indicator = "SP.POP.GROW")
GDP_cap_fil <- GDP_cap %>%
select(-iso3c,-country)
GDP_cap_fil <- GDP_cap %>%
rename(GDPCap = NY.GDP.PCAP.CD)
Prop_women_fil <- Prop_women %>%
select(-iso3c,-country)
Prop_women_fil <- Prop_women %>%
rename(PropWomen= SG.GEN.PARL.ZS)
Trade_fil <- Trade %>%
select(-iso3c,-country)
Trade_fil <- Trade %>%
rename(Trade = NE.TRD.GNFS.ZS)
###################################
Investment_fil <- Investment %>%
select(-iso3c,-country)
Investment_fil <- Investment %>%
rename(Investment = NE.GDI.TOTL.ZS)
###################################
School_enrol_fil <- School_enrol %>%
select(-iso3c,-country)
School_enrol_fil <- School_enrol %>%
rename(SchoolEnrollment = SE.PRM.ENRR)
###################################
School_GPI_fil <- School_GPI %>%
select(-iso3c,-country)
School_GPI_fil <- School_GPI %>%
rename(SchoolGPI = SE.ENR.PRSC.FM.ZS)
###################################
Res_Dev_fil <- Res_Dev %>%
select(-iso3c,-country)
Res_Dev_fil <- Res_Dev %>%
rename(ResDev = GB.XPD.RSDV.GD.ZS)
###################################
Pop_growth_fil <- Pop_growth %>%
select(-iso3c,-country)
Pop_growth_fil <- Pop_growth %>%
rename(PopGrowth = SP.POP.GROW)
result <- left_join(GDP_cap,Prop_women)
View(School_enrol)
View(School_enrol_fil)
GDP_cap_fil <- GDP_cap %>%
select(-iso3c,-country)
View(GDP_cap_fil)
GDP_cap_fil <- GDP_cap %>%
rename(GDPCap = NY.GDP.PCAP.CD)
View(GDP_cap_fil)
GDP_cap_fil <- GDP_cap %>%
select(-iso3c,-country)
GDP_cap_fil <- GDP_cap %>%
rename(GDPCap = NY.GDP.PCAP.CD)
View(GDP_cap_fil)
GDP_cap_fil <- GDP_cap_fil %>%
rename(GDPCap = NY.GDP.PCAP.CD)
GDP_cap_fil <- GDP_cap %>%
select(-iso3c,-country)
GDP_cap_fil <- GDP_cap_fil %>%
rename(GDPCap = NY.GDP.PCAP.CD)
View(GDP_cap_fil)
###################################
GDP_cap_fil <- GDP_cap %>%
select(-iso3c,-country)
GDP_cap_fil <- GDP_cap_fil %>%
rename(GDPCap = NY.GDP.PCAP.CD)
###################################
Prop_women_fil <- Prop_women %>%
select(-iso3c,-country)
Prop_women_fil <- Prop_women_fil %>%
rename(PropWomen= SG.GEN.PARL.ZS)
###################################
Trade_fil <- Trade %>%
select(-iso3c,-country)
Trade_fil <- Trade_fil %>%
rename(Trade = NE.TRD.GNFS.ZS)
###################################
Investment_fil <- Investment %>%
select(-iso3c,-country)
Investment_fil <- Investment_fil %>%
rename(Investment = NE.GDI.TOTL.ZS)
###################################
School_enrol_fil <- School_enrol %>%
select(-iso3c,-country)
School_enrol_fil <- School_enrol_fil %>%
rename(SchoolEnrollment = SE.PRM.ENRR)
###################################
School_GPI_fil <- School_GPI %>%
select(-iso3c,-country)
School_GPI_fil <- School_GPI_fil %>%
rename(SchoolGPI = SE.ENR.PRSC.FM.ZS)
###################################
Res_Dev_fil <- Res_Dev %>%
select(-iso3c,-country)
Res_Dev_fil <- Res_Dev_fil %>%
rename(ResDev = GB.XPD.RSDV.GD.ZS)
###################################
Pop_growth_fil <- Pop_growth %>%
select(-iso3c,-country)
Pop_growth_fil <- Pop_growth_fil %>%
rename(PopGrowth = SP.POP.GROW)
#####################################
View(Trade_fil)
View(Pop_growth_fil)
result <- left_join(GDP_cap_fil,Prop_women_fil)
View(result)
result <- left_join(result, Trade_fil)
result <- left_join(result, Investment_fil)
result <- left_join(result, School_enrol_fil)
result <- left_join(result, School_GPI_fil)
result <- left_join(result,Res_Dev_fil)
result <- left_join(result, Pop_growth_fil)
View(result)
library(dplyr)
# Sovereign states in Latin America in ISO 3166-1 alpha-2
sovereign_latin_america_iso2c <- c(
"AR", # Argentina
"BO", # Bolivia
"BR", # Brazil
"CL", # Chile
"CO", # Colombia
"CR", # Costa Rica
"CU", # Cuba
"DO", # Dominican Republic
"EC", # Ecuador
"SV", # El Salvador
"GT", # Guatemala
"HT", # Haiti
"HN", # Honduras
"MX", # Mexico
"NI", # Nicaragua
"PA", # Panama
"PY", # Paraguay
"PE", # Peru
"UY", # Uruguay
"VE"  # Venezuela
)
# Sovereign states in the Caribbean in ISO 3166-1 alpha-2
sovereign_caribbean_iso2c <- c(
"AG", # Antigua and Barbuda
"BS", # Bahamas
"BB", # Barbados
"BZ", # Belize
"DM", # Dominica
"GD", # Grenada
"GY", # Guyana
"JM", # Jamaica
"KN", # Saint Kitts and Nevis
"LC", # Saint Lucia
"VC", # Saint Vincent and the Grenadines
"SR", # Suriname
"TT"  # Trinidad and Tobago
)
# Combine both lists of ISO2C codes
sovereign_states_iso2c <- c(sovereign_latin_america_iso2c, sovereign_caribbean_iso2c)
# Create a dataframe from the combined list
sovereign_states_iso2c_df <- data.frame(iso2c = sovereign_states_iso2c)
# Now, you can use this dataframe to filter your 'result' dataframe:
# Assuming 'result' has a column named 'iso2c' and a column named 'year'
result_filtered <- result %>%
filter(iso2c %in% sovereign_states_iso2c) %>%
filter(year >= 1997)
View(result_filtered)
library(openxlsx)
write.xlsx(result_filtered, file = "latam_car.xlsx")
View(result)
View(School_enrol)
View(sovereign_states_iso2c_df)
View(result_filtered)
View(Prop_women_fil)
View(Investment_fil)
View(School_GPI_fil)
View(School_enrol_fil)
View(School_enrol)
load("E:/Viktor/Documents/Economics C/Economics.RData")
View(Trade_fil)
# Filter for Latin America
result_latin_america <- result_filtered %>%
filter(iso2c %in% sovereign_latin_america_iso2c)
library(dplyr)
# Filter for Latin America
result_latin_america <- result_filtered %>%
filter(iso2c %in% sovereign_latin_america_iso2c)
# Filter for the Caribbean
result_caribbean <- result_filtered %>%
filter(iso2c %in% sovereign_caribbean_iso2c)
View(result_filtered)
# Filter for Latin America
result_latin_america <- result_filtered %>%
filter(iso2c %in% sovereign_latin_america_iso2c)
# Filter for the Caribbean
result_caribbean <- result_filtered %>%
filter(iso2c %in% sovereign_caribbean_iso2c)
View(result_latin_america)
View(result_filtered)
View(result_latin_america)
# Visualize missing data over time
library(ggplot2)
library(tidyr)
result_filtered %>%
gather(key = "variable", value = "value", -iso2c, -year) %>%
mutate(missing = is.na(value)) %>%
ggplot(aes(x = year, y = iso2c, fill = missing)) +
geom_tile() +
scale_fill_manual(values = c("reported" = "blue", "missing" = "grey")) +
labs(fill = "Data Status",
x = "Year",
y = "Country ISO2 Code") +
theme_minimal()
# Analyze patterns of missing data
library(naniar)
result_filtered %>%
is.na() %>%
colSums()
result_latin_america %>%
gather(key = "variable", value = "value", -iso2c, -year) %>%
mutate(missing = is.na(value)) %>%
ggplot(aes(x = year, y = iso2c, fill = missing)) +
geom_tile() +
scale_fill_manual(values = c("reported" = "blue", "missing" = "grey")) +
labs(fill = "Data Status",
x = "Year",
y = "Country ISO2 Code") +
theme_minimal()
# Analyze patterns of missing data
library(naniar)
result_filtered %>%
is.na() %>%
colSums()
result_latin_america %>%
is.na() %>%
colSums()
View(result_latin_america)
View(Trade_fil)
updateR()
install.packages("installr")
library(installr)
updateR()
WBL_ind <- WDI(indicator = "SG.LAW.INDX")
library(tidyverse)
library(wbstats)
library(dplyr)
library(readxl)
library(WDI)
library(countrycode)
str(wb_cachelist, max.level=1)
?wbcache
wbindicators(lang = "en")
new_cache <- wb_cache()
WBL_ind <- WDI(indicator = "SG.LAW.INDX")
View(WBL_ind)
WBL_ind<- WBL_ind %>%
filter(year >= 1997)
View(WBL_ind)
Gini_ind <- WDI("SI.POV.GINI")
wbdatacatalog()
Gini_ind <- WDI("SI.POV.GINI")
Gini_ind <- WDI("SI.POV.GINI")
countries?
Brazil
BZ
BR
Gini_ind <- WDI(indicator ="SI.POV.GINI")
View(Gini_ind)
Gini_ind <- Gini_ind %>%
filter(year >= 1997)
left_join(Prop_women_fil, Gini_ind, by = ""iso2c"")
left_join(Prop_women_fil, Gini_ind, by = "iso2c")
#Joining tables
left_join(Prop_women_fil, Gini_ind, by = "iso2c")
#Joining tables
Women_n_Inequality<- left_join(Prop_women_fil, Gini_ind, by = "iso2c")
View(Women_n_Inequality)
Pop_growth_fil <- Pop_growth %>%
select(-iso3c,-country)
Women_n_Inequality <- Women_n_Inequality %>%
rename(Gini Index = SI.POV.GINI)
Women_n_Inequality <- Women_n_Inequality %>%
rename(Gi_Ind = SI.POV.GINI)
View(Women_n_Inequality)
Women_n_Inequality <- Women_n_Inequality %>%
select(-iso3c,-country)
Women_n_Inequality <- Women_n_Inequality %>%
rename(Gi_Ind = SI.POV.GINI)
Women_n_Inequality <- Women_n_Inequality %>%
drop_na()
# Run a linear model with fixed effects for each country
model_fe_Women_n_equality <- lm(Women_n_Inequality$Gi_Ind ~ Women_n_Inequality$PropWomen + factor(iso2c) + factor(year.x), data = Women_n_Inequality)
# View the summary of the model
summary(model_fe_LatAm)
# View the summary of the model
summary(model_fe_Women_n_equality)
Women_n_Inequality_lm <- lm(Women_n_Inequality$Gi_Ind ~ Women_n_Inequality$PropWomen, data = Women_n_Inequality)
summary(Women_n_Inequality_lm)
View(Women_n_Inequality)
View(WBL_ind)
View(result)
View(WBL_ind)
View(result_filtered)
View(result_latin_america)
View(WBL_ind)
library(dplyr)
WBL_Fill <- WBL_ind %>%
select(-iso3c,-country) %>%
rename(Women_Bus_Ind = SG.LAW.INDX)
View(WBL_Fill)
result <- left_join(result, WBL_Fill)
View(result)
# Define the regions of interest
regions_of_interest <- c("Europe & Central Asia", "North America", "Latin America & Caribbean", "South Asia")
# Filter countries based on the regions of interest
filtered_countries <- unique_countries[unique_countries$region %in% regions_of_interest, ]
print(filtered_countries$iso2c)
unique_countries <- unique(countries[c("region", "iso2c")])
# Define the regions of interest
regions_of_interest <- c("Europe & Central Asia", "North America", "Latin America & Caribbean", "South Asia")
# Define the regions of interest
regions_of_interest <- c("Europe & Central Asia", "North America", "Latin America & Caribbean")
unique_countries <- unique(countries[c("region", "iso2c")])
# Filter the DataFrame for the specified regions
filtered_countries_res <- result %>%
filter(region %in% regions_of_interest) %>%
select(iso2c) # Assuming 'iso2c' is the column name for ISO2 country codes
library(dplyr)
# Filter the DataFrame for the specified regions
filtered_countries_res <- result %>%
filter(region %in% regions_of_interest) %>%
select(iso2c) # Assuming 'iso2c' is the column name for ISO2 country codes
# Print all column names of the 'result' DataFrame
print(names(result))
# Define a vector with example ISO2 codes for countries in Europe and Central Asia
Europe_and_Central_Asia <- c("AL", "AM", "AZ", "BY", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "GE", "DE", "GR",
"HU", "IS", "IE", "IT", "KZ","KG", "LV", "LT", "LU", "MK", "MT",
"MD", "ME", "NL", "NO", "PL", "PT", "RO", "RU", "RS",
"SK", "SI", "ES", "SE", "CH", "TJ", "TM", "TR", "UA", "GB", "UZ")
# Print the vector
print(Europe_and_Central_Asia)
View(WBL_Fill)
result_ECA <- result_filtered %>%
filter(iso2c %in% Europe_and_Central_Asia)
View(result_ECA)
library(dplyr)
result_ECA <- result_filtered %>%
filter(iso2c %in% Europe_and_Central_Asia)
View(result_ECA)
View(result_filtered)
result_ECA <- result %>%
filter(iso2c %in% Europe_and_Central_Asia)
View(result_ECA)
result_ECA <- result %>%
filter(iso2c %in% Europe_and_Central_Asia) %>%
filter(year >= 1997)
View(result_ECA)
NA_Countries <- c("CA","US")
result_NA <- result %>%
filter(iso2c %in% NA_Countries) %>%
filter(year >= 1997)
View(result_NA)
All_countries <- merge(result_NA,result_ECA, result_latin_america, result_caribbean)
All_countries <- merge(result_NA,result_ECA, result_latin_america, result_caribbean, .by="iso2c")
All_countries_list <- merge(Europe_and_Central_Asia, NA_Countries, sovereign_caribbean_iso2c, sovereign_latin_america_iso2c)
# List of all dataframes to merge
dataframes_to_merge <- list(Europe_and_Central_Asia, NA_Countries, sovereign_caribbean_iso2c, sovereign_latin_america_iso2c)
# Use Reduce to iteratively merge all dataframes in the list by 'iso2c'
All_countries_list <- Reduce(function(x, y) merge(x, y, by = "iso2c", all = TRUE), dataframes_to_merge)
View(dataframes_to_merge)
All_countries_list <- full_join(Europe_and_Central_Asia, NA_Countries, sovereign_caribbean_iso2c, sovereign_latin_america_iso2c)
All_countries_list <- full_join(Europe_and_Central_Asia, NA_Countries)
All_countries_list <- c("AL", "AM", "AZ", "BY", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "GE", "DE", "GR",
"HU", "IS", "IE", "IT", "KZ","KG", "LV", "LT", "LU", "MK", "MT",
"MD", "ME", "NL", "NO", "PL", "PT", "RO", "RU", "RS",
"SK", "SI", "ES", "SE", "CH", "TJ", "TM", "TR", "UA",
"GB", "UZ", "CA","US", "AR","BO","BR","CL", "CO","CR",
"CU","DO","EC","SV","GT","HT","HN","MX", "NI","PA", "PY","PE","UY","VE")
All_countries <- result %>%
filter(iso2c %in% All_countries_list) %>%
filter(year >= 1997)
View(All_countries)
GDP_Growth <- WDI(indicator = "NY.GDP.MKTP.KD.ZG")
library(tidyverse)
library(wbstats)
library(dplyr)
library(readxl)
library(WDI)
library(countrycode)
library(openxlsx)
str(wb_cachelist, max.level=1)
GDP_Growth <- WDI(indicator = "NY.GDP.MKTP.KD.ZG")
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997)
View(GDP_Growth)
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997) %>%
rename(GDP_Growth=NY.GDP.MKTP.KD.ZG)
View(GDP_Growth)
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997) %>%
rename(GDP_Growth=NY.GDP.MKTP.KD.ZG) %>%
select(-iso3c,country)
View(GDP_Growth)
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997) %>%
# rename(GDP_Growth=NY.GDP.MKTP.KD.ZG) %>%
select(-iso3c,country)
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997) %>%
# rename(GDP_Growth=NY.GDP.MKTP.KD.ZG) %>%
select(-iso3c,-country)
GDP_Growth <- GDP_Growth %>%
filter(year >= 1997) %>%
# rename(GDP_Growth=NY.GDP.MKTP.KD.ZG) %>%
select(-country)
View(GDP_Growth)
All_countries <- left_join(All_countries, GDP_Growth, by = "isoc2c")
All_countries <- left_join(All_countries, GDP_Growth, by = "iso2c")
View(All_countries)
View(GDP_Growth)
All_countries <- All_countries %>%
select(-year.y)
All_countries <- All_countries %>%
select(-year.y) %>%
rename(year = year.x)
All_countries <- All_countries %>%
#select(-year.y) %>%
rename(year = year.x)
View(All_countries)
View(All_countries)
# Assume 'df' is your dataframe
total_na_All_Countries <- sum(is.na(All_countries))
# Print the total number of NA values
print(total_na)
# Print the total number of NA values
print(total_na_All_Countries)
na_count_per_column_AC <- colSums(is.na(All_countries))
# Print the number of NA values per column
print(na_count_per_column_AC)
All_countries <- All_countries %>%
select(-SchoolGPI,-ResDev,-SchoolEnrollment)
View(All_countries)
GDP_Growth <- WDI(indicator = "NY.GDP.MKTP.KD.ZG")
Prop_women<- WDI(indicator = "SG.GEN.PARL.ZS")
Trade <- WDI(indicator = "NE.TRD.GNFS.ZS")
################################# Investment ##################################
Investment <- WDI(indicator = "NE.GDI.TOTL.ZS" )
School_enrol<- WDI(indicator ="SE.PRM.ENRR" )
Pop_growth <- WDI(indicator = "SP.POP.GROW")
WBL_ind <- WDI(indicator = "SG.LAW.INDX")
GDP_cap <- WDI(indicator = "NY.GDP.PCAP.CD")
filter_Res <- c(GDP_Growth,GDP_cap,Prop_women,Trade,Investment,WBL_ind)
# Assuming 'filter_Res' is your list
unlisted_filter_Res <- unlist(filter_Res, recursive = TRUE, use.names = TRUE)
# If you want to see the structure of the unlisted elements
str(unlisted_filter_Res)
rm(unlisted_filter_Res)
rm(filter_Res)
filter_Res <- bind_rows(GDP_cap, GDP_Growth, Investment, Pop_growth, Prop_women, Trade, WBL_ind)
View(filter_Res)
All_countries_list <- c("AL", "AM", "AZ", "BY", "BG", "HR", "CY", "CZ", "DK", "EE", "FI", "FR", "GE", "DE", "GR",
"HU", "IS", "IE", "IT", "KZ","KG", "LV", "LT", "LU", "MK", "MT",
"MD", "ME", "NL", "NO", "PL", "PT", "RO", "RU", "RS",
"SK", "SI", "ES", "SE", "CH", "TJ", "TM", "TR", "UA",
"GB", "UZ", "CA","US", "AR","BO","BR","CL", "CO","CR",
"CU","DO","EC","SV","GT","HT","HN","MX", "NI","PA", "PY","PE","UY","VE")
View(filter_Res)
filter_Res <- filter_Res %>%
select(-iso3c, -country)
filter_Res <- filter_Res %>%
filter(year >= 1997)
filter_Res <- filter_Res %>%
filter(iso2c == All_countries_list)
View(filter_Res)
filter_Res <- bind_rows(GDP_cap, GDP_Growth, Investment, Pop_growth, Prop_women, Trade, WBL_ind)
filter_Res <- filter_Res %>%
select(-iso3c, -country)
filter_Res <- filter_Res %>%
filter(year >= 1997)
filter_Res <- filter_Res %>%
filter(iso2c %in% All_countries_list)
View(filter_Res)
filter_Res <- bind_rows(GDP_cap, GDP_Growth, Investment, Pop_growth, Prop_women, Trade, WBL_ind)
View(filter_Res)
View(GDP_cap)
rm(filter_Res)
result_df <- GDP_Growth %>%
left_join(Prop_women, by = c("country", "year")) %>%
left_join(Trade, by = c("country", "year")) %>%
left_join(Investment, by = c("country", "year")) %>%
left_join(GDP_cap, by = c("country", "year")) %>%
left_join(WBL_ind, by = c("country", "year")) %>%
# Check the first few rows of the merged data frame
head(result_df)
result_df <- GDP_Growth %>%
left_join(Prop_women, by = c("iso2c", "year")) %>%
left_join(Trade, by = c("iso2c", "year")) %>%
left_join(Investment, by = c("iso2c", "year")) %>%
left_join(GDP_cap, by = c("iso2c", "year")) %>%
left_join(WBL_ind, by = c("iso2c", "year")) %>%
# Check the first few rows of the merged data frame
head(result_df)
result_df <- result_df %>%
left_join(Prop_women, by = c("iso2c", "year")) %>%
left_join(Trade, by = c("iso2c", "year")) %>%
left_join(Investment, by = c("iso2c", "year")) %>%
left_join(GDP_cap, by = c("iso2c", "year")) %>%
left_join(WBL_ind, by = c("iso2c", "year")) %>%
# Check the first few rows of the merged data frame
head(result_df)
result_df <- GDP_Growth
result_df <- GDP_Growth
restart()
restart?
